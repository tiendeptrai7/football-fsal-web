<nz-card class="form-content" [nzExtra]="extraTemplate">
  <form nz-form [formGroup]="validateForm" nzLayout="vertical">
    <div>
      <div class="form-row">
        <nz-form-item class="form-group col-md-3">
          <nz-form-label
            nzRequired
            nzTooltipTitle="A string of 4 to 20 characters consisting of letters and numbers."
            nzTooltipIcon="info-circle">
            Username
          </nz-form-label>
          <nz-form-control
            [nzErrorTip]="getFormControlError(validateForm.get('username'))">
            <input
              class="form-control"
              formControlName="username"
              nz-input
              name="username"
              autocomplete="off" />
          </nz-form-control>
        </nz-form-item>

        <ng-container formGroupName="profile">
          <nz-form-item class="form-group col-md-3">
            <nz-form-label nzRequired nzTooltipIcon="info-circle">
              Employee Initial
            </nz-form-label>
            <nz-form-control
              [nzErrorTip]="
                getFormControlError(validateForm.get('profile.upi'))
              ">
              <input
                class="form-control"
                formControlName="upi"
                nz-input
                name="upi"
                autocomplete="off" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="form-group col-md-3">
            <nz-form-label nzRequired>Full Name</nz-form-label>
            <nz-form-control
              [nzErrorTip]="
                getFormControlError(validateForm.get('profile.full_name'))
              ">
              <input
                class="form-control"
                formControlName="full_name"
                nz-input
                name="full_name" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item class="form-group col-md-3">
            <nz-form-label nzRequired>Phone Number</nz-form-label>
            <nz-form-control
              [nzErrorTip]="
                getFormControlError(validateForm.get('profile.phone'))
              ">
              <input
                class="form-control"
                formControlName="phone"
                nz-input
                name="phone" />
            </nz-form-control>
          </nz-form-item>
        </ng-container>
      </div>

      <div class="form-row">
        <nz-form-item class="form-group col-md-3">
          <nz-form-label nzRequired nzTooltipIcon="info-circle">
            Email
          </nz-form-label>
          <nz-form-control
            [nzErrorTip]="getFormControlError(validateForm.get('email'))">
            <input
              class="form-control"
              formControlName="email"
              nz-input
              name="email"
              autocomplete="off" />
          </nz-form-control>
        </nz-form-item>

        <nz-form-item class="form-group col-md-3">
          <nz-form-label nzRequired>Role</nz-form-label>
          <nz-form-control
            [nzErrorTip]="getFormControlError(validateForm.get('role_ids'))">
            <nz-select
              class="w-100"
              nzPlaceHolder="Role"
              formControlName="role_ids">
              <nz-option
                *ngFor="let o of dataSource"
                [nzValue]="o.value"
                [nzLabel]="o.label"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item class="form-group col-md-6">
          <nz-form-label>Status</nz-form-label>
          <nz-form-control>
            <nz-switch formControlName="status"> </nz-switch>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </form>
</nz-card>

<ng-template #extraTemplate>
  <button class="mr-4" nz-button nzType="primary" (click)="goBack()">
    <i nz-icon nzType="rollback" nzTheme="outline"></i>Back
  </button>

  <button nz-button nzType="default" (click)="save()">
    <i nz-icon nzType="save" theme="outline"></i>
    <span>Save</span>
  </button>
</ng-template>
